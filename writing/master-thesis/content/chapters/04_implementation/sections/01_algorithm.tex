\section{Algorithm}
\label{sec:algorithm}
% 1) create set of negative triples
% 2) score_min and score_max for positive and negative triples
% 3) classify triples
% 4) calculate uncertainty scores
% 5) calculate sampling probability based on uncertainty scores
The original algorithm of \kbgan was modified for \usgan by replacing the original sampling by sampling with uncertainty.
Algorithm \ref{alg:ucgan} shows the individual steps of \usgan in pseudo-code (based on algorithm of \cite{cai2017kbgan}).
In contrast to the original \kbgan approach, the sampling of negative triples is based on the achieved uncertainty scores instead of generator scores.
In addition, the algorithm was supplemented by the necessary calculations.
For each epoch, after initializing several variables, a negative triple set $Neg$ is created.
In the original approach \kbgan it is stated that the creation of the negative triple set takes place within the batch loop.
However, on closer inspection of the implementation \footnote{\url{https://github.com/cai-lw/KBGAN/blob/master/gan_train.py}: line 61},  this does not happen for each batch, but at the beginning of each epoch.
This was adopted for our approach.
After this, the minimum and maximum scoring values $score_{min}$ and $score_{max}$ are calculated.
Subsequently, a classification of negative triples is performed for the individual triples of a batch.
Based on the probability of belonging to the positive triple class, the uncertainty scores and the sampling probabilities can be calculated.
All other steps are the same as in the original \kbgan approach.

\input{content/chapters/04_implementation/algorithm}
