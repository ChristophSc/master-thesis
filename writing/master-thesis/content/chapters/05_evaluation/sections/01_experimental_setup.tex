\section{Experimental Setup}
\label{ch:evaluation:sec:experimental_setup}

The evaluations are based on different settings, which are explained in more detail in this section.
To allow the best possible comparison with the original \kbgan approach, many of the settings and parameters are chosen identically.


\subsection{Embedding Models}
To allow a better comparison between Sampling by Uncertainty and original sampling, we train with the same models chosen by \kbgan.
These are the models \textsc{DistMult} and \textsc{Complex} for the generator component and the distance-based models \textsc{TransE} and \textsc{TransD} for the discriminator component.

\subsection{Datasets}
\label{subsec:datasets}

The results will be evaluated on four common knowledge completion datasets  \textsc{UMLS}, \textsc{WN18RR}, \textsc{WN18} 
and \textsc{FB15k237}.
While \textsc{UMLS} contains a relatively small dataset and is used for initial validations and testing of the different approaches.
Due to the small amount of data, these could also be tested on the local computer with low runtimes.
Once the tests on the \textsc{UMLS} dataset were successful, it was possible to work with the other, larger datasets.
The significantly higher number of entities and relations resulted in longer runtimes.
\input{content/chapters/05_evaluation/datasets_table}
For this reason, these evaluations took place on the $PC^2$ servers.
\textsc{WN18RR} is a subset of \textsc{WN18} \textsc{WN18RR} and removes reversing relation, which increases the difficulty of reasoning dramatically \cite{cai2017kbgan}.
\textsc{FB15k-237} is a subset of \textsc{FB15k} and does not contain redundant relations which are present in \textsc{FB15k}.
These datasets are commonly used in knowledge graph researches so that its evaluation allows us to compare our with state-of-the-art approchaes.
Statistics of datasets with number of relations and entities, number of heads and tails are show in \autoref{tab:datasets}. 
In addition, the size of the training, validation and test set are given.
        
\subsection{Evaluation Protocols}

The evaluation protocols are limited to the usual MRR and  Hit@10 values.
These provide the necessary information to be able to compare them with other approaches.


\textcolor{red}{TODO: describe link prediction + filtering}

\subsection{Implementation Details}


In the original \kbgan approach, the models are first pre-trained individually over 1000 epochs on the corresponding data set before the actual \ac{GAN} training takes place.
In the course of our tests, we found that the adversarial training learns quickly and achieves good results even without pre-training the individual models.
For this reason, in the following sections we will present the evaluation without pre-training, i.e. training from scratch.
If you want to compare the results of this with the pre-training and the adversarial training after the pre-training, you will find corresponding results in the appendix (\autoref{app:sec:pretraining} and \ref{app:sec:adv_training}).

For the evaluation, the parameters shown in \autoref{tab:evaluation_parameter} were defined.
\begin{table}[h]
    \centering
    \begin{tabular}{lll}
        \toprule
        
        \textbf{Parametername} & 
        \textbf{Value} & 
        \textbf{Description} \\
    
        \midrule
         n\_epoch & 5000 & Number of epochs for adversarial training\\
         n\_batch & 100 & Number of batches for training \\
         
         valid\_batch\_size & 100 & Size of each batch for validation and test set\\
         epoch\_per\_test & 50 & Defines after how many epochs a validation should \\
         &  & take place on the validation set \\
         n\_sample & 20 & Number of negative triples in set Neg \\

        % temperature & 1.0 & MISSING\\
        margin $\gamma$ & 3 & Margin of marginal loss function for discriminator model\\
        dimension k & 50 & Number of dimensions of embeddings \\ 
        optimizer & Adam & Self-adaptive optimization method \\

        \bottomrule
    \end{tabular}
    \caption{Table of parameter for evaluation runs which contains parameter names, their values and a description of each parameter.}
\label{tab:evaluation_parameter}
\end{table}



  
  
